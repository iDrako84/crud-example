<div class="relative" *ngIf="control" [ngClass]="{'pointer-events-none': readOnly}">
    <select class="hidden" [formControl]="asControl">
    </select>
    <input 
        #input
        type="text" 
        [attr.id]="idSelect"
        class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-color-input-field disabled:bg-gray-200 disabled:text-black cursor-pointer disabled:cursor-not-allowed peer"
        [ngClass]="getErrorInput()"
        placeholder=" "
        [ngModel]="inputVal"
        readonly
        [attr.value]="inputVal"
        [disabled]="control.disabled"
        (click)="toggle($event)"
        (keyup)="onKeyup($event)">
    <label 
        [attr.for]="idSelect" 
        *ngIf="placeholder"
        class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 left-1 peer-disabled:bg-transparent peer-disabled:cursor-not-allowed"
        [ngClass]="setClassLabel()">
        {{ placeholder }} <span class="text-red-600" *ngIf="validatorRequired">*</span>
    </label>
</div>
    
<ng-template #list>
    <div class="fixed overflow-auto top-0 left-0 w-full h-screen z-50" select-list-custom (click)="toggle($event)">
        <div class="absolute max-h-36 transition-all duration-75 z-50" [attr.select-list-custom-item]="idContainer">
            <ul>
                <li class="w-full p-2 border-t-2 border-x-2 border-x-color-input-field border-t-color-input-field bg-white hover:bg-color-input-field rounded-t-md" *ngIf="enableSearch">
                    <input type="text" class="w-full pl-1" [(ngModel)]="search" [placeholder]="placeholderSearch" (click)="$event.stopPropagation();">
                </li>
                <li class="w-full border-t-2 border-x-2 border-x-color-input-field border-t-color-input-field bg-white hover:bg-color-input-field hover:text-white" *ngFor="let option of getOptions; let f = first; let l = last" [ngClass]="setClassLi(f, l)">
                    <a class="w-full inline-block p-1 cursor-pointer" (click)="setValue($event, option[keyValue])">
                        {{option[keyLabel]}}
                    </a>
                </li>
                <li class="w-full border-2 border-color-input-field bg-white rounded-b-md" *ngIf="!getOptions.length">
                    <a class="w-full inline-block p-1 cursor-pointer">
                        Nessun risultato
                    </a>
                </li>
            </ul>
        </div>
    </div>
</ng-template>
